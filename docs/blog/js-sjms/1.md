# 设计模式（一）单例模式

## 一、什么单例模式？

单例模式的核心就是：**确保仅有一个实例，并提供全局访问**

## 二、创建一个类，并让它可以做到返回唯一实例

#### 2.1 第一版

#### 2.2 第二版

#### 2.3 第三版

## 三、JavaScript 中的单例模式？

回顾核心思路：保证实例（对象）的唯一，并可以全局访问它。

#### 3.1 利用命名空间

```js
const namespace1 = {
  a: function() {
    console.log(1);
  },
  b: function() {
    console.log(2);
  },
};
```

#### 3.2 使用闭包封装私有变量

```js
const user = (function() {
  var _name = "余光";
  return {
    getUserName: function() {
      console.log("姓名:", _name);
    },
  };
})();
```

**注意：**

不推荐用全局变量：

```js
var globalVal = {};
```

globalVal 可以满足单例的核心思想，它很容易造成命名空间污染，且容易被覆盖。


## 四、惰性单例

惰性单例“据说”非常有用，它的核心是：**在需要的时候才创建对象实例**




试试上，惰性单例